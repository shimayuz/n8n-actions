# Discord Chatbot ワークフローの主要ステップ

## アーキテクチャ
ポーリング方式による会話型Discord Bot（30秒間隔でメッセージ確認）

## 実装ステップ

### 1. Schedule Trigger（定期実行）
- 30秒間隔で起動
- 手動実行でテスト可能

### 2. Discord: メッセージ取得
- 最新50件のメッセージを取得
- 対象チャンネルを指定

### 3. データ処理: タイムスタンプ保存
- 最新メッセージのタイムスタンプを記録
- 次回実行時の重複防止用

### 4. If: 新規メッセージ判定
- 前回処理以降のメッセージを識別
- ボット自身のメッセージを除外

### 5. AI Agent: 応答生成
- LangChain + OpenAI統合
- 自然な会話応答を生成
- コンテキスト理解

### 6. Discord: 応答送信
- 生成した応答をチャンネルに送信
- メンション付きで返信

## 必要な設定
1. Discord Bot Token（Discord Developer Portalで作成）
2. OpenAI API Key（OpenAIで取得）
3. サーバーID・チャンネルIDの特定

これでよろしいですか？実装を進めますか？
EOF < /dev/null
